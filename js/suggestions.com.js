var f=window.j||window.p;
f.extend(f.m,{i:function(w){function k(){e.find("option").remove();e.c();h&&console.log("reset suggestions plugin: #"+g)}function q(){s=d.position().top;t=d.position().left;l=d.outerWidth();m=d.outerHeight();e.l({width:l+"px",left:s+"px",top:m+t+"px"});h&&console.log("updaterect()\n\tfield width =  "+l+"\n\tfield height = "+m)}var b=f.extend({url:null,d:"k",g:5,a:!1,unique:!1,debug:!1,f:!0},w);if(!b.url)return console.log("please set the url option in  suggestions plugin!"),!1;var u=0,h=b.debug,n=
b.g,d=this,s,t,l,m,v=null,g=d.b("id")+"-suggestions";d.r('<div class="suggestions" style="position:relative">');d.k('<select id="'+g+'" size="2" class="suggestions-dropdown" style="position:absolute;z-index:9999"></select>');var e=f("#"+g);h&&console.log("load suggestions plugin: #"+g);e.c();h&&console.log("hide suggestions plugin: #"+g);e.click(function(){var a=e.find("option:selected").text();if(b.a){elt=d.e();if(0<elt.indexOf(",")){ta=elt.split(",");ta.pop();ta.push(a);if(b.unique){for(var a=0,
c=[];a<ta.length;)-1==c.indexOf(ta[a])&&c.push(ta[a].trim()),a++;ta=c}a=ta.toString()}b.f&&(nt=a.replace(/\s/g,"").replace(/,/,", ").replace(/,$/,""),h&&console.log("cleaning suggestions  plugin #"+g+'\n\tfrom : "'+a+'" \n\tto : "'+nt+'"'),a=nt)}d.e(a);k()});f(window).h("resize",function(){q()});f(d).h("focus",function(){q()});f("html").click(function(){k()});d.q(function(a){var c=d.e();a=a.keyCode;if(188==a&&b.a)k();else{if(""!=c.trim()){if(1<c.length&&0==c.length%2&&32!=v){if(b.a&&(qa=c.split(","),
c=qa.pop(),""==c.trim())){k();return}var c=c.trim(),g=b.url+"?"+b.d+"="+c;u++;h&&console.log("send request "+u+" to "+b.url+"\n\tparam = "+b.d+"\n\tvalue = "+c);f.n(g,function(a){k();var c=0,d="";a=a.i;var b=a.length;if(0<b){e.o(":hidden")&&(e.show(),h&&console.log("show suggestions plugin : #"+e.b("id")));b<n?r=b:b>n&&(r=n);1==b&&(r=2);for(e.b("size",r);c<b;)opt='<option value="'+a[c]+'">'+a[c]+"</option>",d+=opt,c++;e.append(d)}else e.c()})}}else k();v=a}})}});
